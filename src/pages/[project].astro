---
import type { Project } from "src/types";

// LAYOUT
import Layout from "@layouts/Layout.astro";

// COMPONENTS
import Footer from "@components/sections/Footer.astro";
import NavBar from "@components/sections/NavBar.astro";
import ProjectSection from "@components/sections/ProjectSection.astro";

// DATA
import { projects } from "@data/projects";

export const getStaticPaths = () => {
    return projects.map((project: Project) => ({
        params: { project: project.href },
    }));
};

const { project } = Astro.params;
const currentProject: Project = projects.find((p: Project) => p.href === project)!;
---

<Layout title={currentProject.name}>
    <NavBar />
    <ProjectSection project={currentProject} />
    <Footer />
</Layout>
